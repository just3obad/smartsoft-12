<html>

<% if $saved %>
<%= render 'shared/logs_success_messages' %>
<%else %>
<%= render 'shared/logs_error_messages' %>
<%end%>



<div class="container-fluid maindiv">

  <div class="row-fluid">

    <div class="left_panel">
      <ul class="nav nav-list left_panel ">
               <%= render 'shared/error_feed' %>

	<li class="nav-header">Add Rss Feed</li>
        <! .. ADDING RSS FEED .. >

          <li class="divider"></li>
            
            <form action="feeds/create" method="post">
              <input type="text" name="feed[link]" />
              <input type="hidden" name="feed[interest_id]" value= "<%= @interest.id %>" />
              <input type="submit" name="commit" value="Submit" class="btn btn-primary"/>
            </form>
<!DELETING RSS>

            
<! edit interest part .. to be added later >
			<li class="divider"></li>
			<li class="nav-header">Interest Edit</li>
			<li class="divider"></li>

			<%= form_tag("/logs/filterbydate", :method => "get") %>
			  <label for="name" class="logs-take-input" >Name :</label>
			  <input type="text" class="input-medium" placeholder="Name"  name="name"id="name" disabled="disabled">
		          <label for="description"class="logs-take-input" >Description :</label>
			  <textarea type="text" class="input-medium" placeholder="Description" name="description" id="description" disabled="disabled"></textarea>
			  <label for="image"class="logs-take-input" >Image :</label>
			  <input type="text" class="input-medium" placeholder="Image URL" name="image" id="image" disabled="disabled">
			  <input class="btn btn-primary" name="commit" type="submit" value="Edit" disabled="disabled" />
							
			</form>

			<li class="divider"></li>
<!.. deleting the interest .. no action at the moment .. >

			<li class="nav-header">Delete this Interest </li>
			
  <input class="btn btn-primary btn-danger" name="commit" type="submit" value="Delete Interest" disabled="disabled" />

			</ul>
</div>




			<div class="main-right-interse">
			<div class="middle-interest-panel" >
			<h1><%= @interest.name %></h1>
<!-- the interest's image .. the alternative is Nokia Logo image -->
<h3><% if @interest.image ==  "" || @interest.image.nil? %>
      <%= image_tag "logo.jpeg" , :size => "320x320"%>
      <% else %>
      <img src= "<%= @interest.image%>" width="320" style="height:320px"/>
      <% end %>
</h3>



	
	<div class="interest-page-description">
		<ul class="nav nav-list" >
			<li class="divider"></li>

		</ul>
      <h3 class="interest-page-text">
       Description:
      </h3>
<div class="interest-page-well">
         <%= @interest.description %>
</div>

<ul class="nav nav-list" >
	<li class="divider"></li>

</ul>
<h3 class="interest-page-text">
RSS Feeds :
</h3>

<div class="interest-page-well ">
<! .. adding the RSS feeds added to this interest unless the table is empty ..>
<table class="table">
  
<% @feeds.each do |f| %>
    <tr>
      <td><%= link_to( (f.link.length > 30 ? ('%{sub}...' % {:sub => f.link[0,30]}) : f.link), f.link)	%></td>
      <td><%= link_to("Delete", f, {:controller => "feeds", :method=>:delete, class: "btn btn-danger"} ) %></td>

    </tr>
  <% end %>
</table>
</div>
	<ul class="nav nav-list" >
		<li class="divider"></li>
	
	</ul>	
		
	</div>
</div>
	<div class="right-interest-panel interest-page-well" >
		<h2 class = "logs-take-input" >Stories List<h2>
			<ul class="nav nav-list" >
				<li class="divider"></li>

			</ul>

<!.. these are two dummy user stories .. who is responsible for the stories page should  add them here ..>
			<div class="pre-scrollable">
<% @stories.each do |story| %>
 		<div >
		<h3><%= link_to("View Statistics", {:controller => 'statistics', :action => 'stories', :id => story.id}, class: "btn btn-large btn-primary") %></h3>

		<h3><%= link_to( story.title, {:controller => "stories", :action => "show",:id => story.id}) %></h3>
		<div class="pre-scrollable">

		
		<h6 class ="story-body story-page-well"><%=raw story.content %></h6>

		</div>
	</div>
<%end%>
	
		
</div>
</div>
	
</div>
</div>

</html>
